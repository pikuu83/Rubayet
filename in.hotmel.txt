<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Forex Predictor Pro</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.0/css/flag-icons.min.css"/>
  <style>
    :root{--bg:#0a0a0a; --card:#121215; --text:#e2e8f0; --muted:#94a3b8; --accent:#00d4ff; --gold:#ffd700;
      --buy:#00ff88; --sell:#ff3838; --glow:#00d4ff; --premium:#9f7cff;}
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:var(--bg);color:var(--text);font-family:"Segoe UI",sans-serif;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding:14px 10px;overflow-x:hidden}
    .app{max-width:420px;width:100%;display:flex;flex-direction:column;gap:16px;position:relative}
    .header{text-align:center;margin-bottom:10px;position:relative}
    .header::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at center,rgba(159,124,255,0.15),transparent);border-radius:20px;filter:blur(20px);z-index:-1}
    .title{font-size:29px;font-weight:900;background:linear-gradient(90deg,#9f7cff,#00d4ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:1.2px;text-shadow:0 0 20px rgba(159,124,255,0.3)}
    .tagline{font-size:13px;color:var(--gold);margin-top:5px;font-weight:700;letter-spacing:0.8px}
    .features{font-size:11.8px;color:var(--accent);margin-top:7px;opacity:0.9;animation:pulse 3s infinite}
    @keyframes pulse{0%,100%{opacity:0.9}50%{opacity:1}}

    .controls{display:flex;gap:14px}
    .ctrl{flex:1;background:var(--card);padding:15px 12px;border-radius:18px;border:1px solid rgba(255,255,255,0.08);cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(0,0,0,0.2)}
    .ctrl:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(0,212,255,0.2);border-color:var(--accent)}
    .ctrl label{font-size:12px;color:var(--muted);margin-bottom:6px;display:block}
    .ctrl .val{font-size:18px;font-weight:800;color:var(--text);display:flex;justify-content:space-between;align-items:center;gap:8px}
    .ctrl .val i{color:var(--muted);font-size:15px;transition:0.3s}
    .ctrl:hover .val i{transform:rotate(180deg);color:var(--accent)}

    .gen-btn{background:linear-gradient(135deg,var(--buy),var(--accent));color:#fff;padding:20px;border-radius:22px;border:0;font-size:19px;font-weight:900;letter-spacing:1.5px;cursor:pointer;position:relative;overflow:hidden;box-shadow:0 15px 35px rgba(0,212,255,0.3),inset 0 1px 0 rgba(255,255,255,0.2);transition:all 0.4s ease;animation:glow 2s infinite alternate;width:100%}
    @keyframes glow{from{box-shadow:0 15px 35px rgba(0,212,255,0.3)}to{box-shadow:0 15px 45px rgba(0,212,255,0.5),0 0 20px rgba(0,212,255,0.4)}}
    .gen-btn::before{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent);transform:translateX(-100%);transition:0.6s}
    .gen-btn:hover::before{transform:translateX(100%)}
    .gen-btn:active{transform:scale(0.97)}
    .gen-btn.locked{opacity:0.4;cursor:not-allowed;background:#333;animation:none;box-shadow:none}

    .signal{background:var(--card);padding:18px;border-radius:20px;border:1px solid rgba(255,255,255,0.1);box-shadow:0 10px 30px rgba(0,0,0,0.4);display:none;animation:fadeIn 0.5s ease}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
    .pair-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
    .pair{font-size:21px;font-weight:900;color:var(--gold);display:flex;align-items:center;gap:6px}
    .dur{font-size:13px;color:var(--muted)}
    .conf-row{display:flex;justify-content:space-between;margin:14px 0;align-items:center}
    .conf-val{font-size:16px;font-weight:900;background:linear-gradient(90deg,var(--accent),var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .entry{text-align:center;font-size:18px;font-weight:900;margin:16px 0}
    .entry small{display:block;font-size:15px;margin-top:6px;color:var(--text)}
    .sl-tp{display:flex;gap:14px;margin:16px 0}
    .sl-tp > div{flex:1;text-align:center}
    .sl-tp small{font-size:11px;color:var(--muted);display:block;margin-bottom:5px}
    .sl{font-size:17px;font-weight:900;color:var(--sell)}
    .tp{font-size:17px;font-weight:900;color:var(--buy)}
    .dir{font-size:56px;text-align:center;font-weight:900;margin:18px 0;letter-spacing:1px}
    .buy{color:var(--buy);text-shadow:0 0 25px rgba(0,255,136,0.5)}
    .sell{color:var(--sell);text-shadow:0 0 25px rgba(255,56,56,0.5)}
    .exp{font-size:13px;text-align:center;color:var(--muted)}
    .exp span{color:var(--accent);font-weight:800}

    #chart{height:350px;border-radius:20px;overflow:hidden;border:1px solid rgba(255,255,255,0.1);background:#000;box-shadow:0 10px 30px rgba(0,0,0,0.5)}

    .acc-bar{text-align:center;margin-top:14px;padding:14px;background:linear-gradient(135deg,rgba(0,212,255,0.1),rgba(159,124,255,0.1));border-radius:16px;border:1px solid rgba(0,212,255,0.3);font-size:13px;line-height:1.6}
    .acc-bar strong{color:var(--gold);font-weight:800}

    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;align-items:center;justify-content:center;z-index:999;animation:fade 0.3s}
    @keyframes fade{from{opacity:0}to{opacity:1}}
    .modal-box{background:#1a1a1d;width:90%;max-width:380px;border-radius:20px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,0.7);border:1px solid rgba(255,255,255,0.1)}
    .modal-head{padding:18px 20px;background:linear-gradient(135deg,#1e1e1e,#2a2a2a);border-bottom:1px solid rgba(255,255,255,0.1);font-size:19px;font-weight:900;color:var(--gold);display:flex;justify-content:space-between;align-items:center}
    .close{color:var(--muted);font-size:24px;cursor:pointer;background:none;border:none}
    .modal-list{max-height:65vh;overflow-y:auto;padding:6px 0}
    .sector{margin:10px 20px 4px;font-size:13px;color:var(--accent);font-weight:700;text-transform:uppercase;letter-spacing:1px}
    .item{padding:16px 20px;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:0.25s;border-bottom:1px solid rgba(255,255,255,0.05)}
    .item:hover{background:rgba(0,212,255,0.12);border-left:4px solid var(--accent);transform:translateX(4px)}
    .item .lbl{display:flex;align-items:center;gap:12px;font-size:16px;font-weight:600}
    .item i{font-size:18px;opacity:0.85}
    .item .flag{font-size:20px}
    .radio{width:24px;height:24px;border:2.5px solid rgba(255,255,255,0.3);border-radius:50%;position:relative}
    .radio::after{content:'';position:absolute;inset:4px;background:var(--accent);border-radius:50%;transform:scale(0);transition:0.3s}
    .radio.sel{border-color:var(--accent);box-shadow:0 0 15px rgba(0,212,255,0.5)}
    .radio.sel::after{transform:scale(1)}

    .premium-modal{position:fixed;inset:0;background:radial-gradient(circle at center,rgba(159,124,255,0.2),rgba(0,0,0,0.9));display:none;align-items:center;justify-content:center;z-index:1000}
    .premium-box{background:linear-gradient(135deg,#1a1a1d,#2a1a3a);padding:24px;border-radius:22px;width:90%;max-width:360px;border:1px solid rgba(159,124,255,0.4);box-shadow:0 20px 60px rgba(159,124,255,0.3);text-align:center;position:relative;overflow:hidden}
    .premium-box::before{content:'';position:absolute;inset:0;background:linear-gradient(45deg,transparent,rgba(159,124,255,0.1),transparent);animation:shine 3s infinite}
    @keyframes shine{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
    .premium-box h3{color:var(--gold);font-size:20px;margin-bottom:8px;font-weight:900}
    .premium-box p{font-size:13.5px;color:var(--muted);margin-bottom:18px}
    .premium-input{padding:13px;border-radius:12px;border:1px solid rgba(255,255,255,0.15);background:#0f0f12;color:var(--text);font-size:15px;width:100%;margin-bottom:10px}
    #premium-error{color:#ff6b6b;font-size:13px;margin-top:8px;display:none}
    .premium-btns{display:flex;gap:10px;margin-top:16px}
    .premium-btn{flex:1;padding:12px;border-radius:12px;border:0;font-weight:700;cursor:pointer;transition:0.3s}
    .premium-btn.ok{background:linear-gradient(135deg,var(--accent),#9f7cff);color:#fff}
    .premium-btn.cancel{background:#2a2a2a;color:var(--muted)}
  </style>
</head>
<body>
  <div class="app">
    <div class="header">
      <div class="title">Forex Predictor Pro (·éÆ…™·¥ã·¥ú‚ô°TRADER)</div>
      <div class="tagline">AI-Powered Signal Generator ...... (EXNESS)</div>
      <div class="features">Live Synced ‚Ä¢ Auto SL/TP ‚Ä¢ 85‚Äì95% Accuracy</div>
    </div>

    <div class="controls">
      <div class="ctrl" onclick="openMod('pair')">
        <label>Market Pair</label>
        <div class="val"><span id="pLab">EUR/USD</span> <i class="fa fa-chevron-down"></i></div>
      </div>
      <div class="ctrl" onclick="openMod('dur')">
        <label>Signal Duration</label>
        <div class="val"><span id="dLab">5 min</span> <i class="fa fa-chevron-down"></i></div>
      </div>
    </div>

    <button id="gen" class="gen-btn locked" onclick="genSig()">GENERATE SIGNAL</button>

    <div id="sig" class="signal">
      <div class="pair-row">
        <div class="pair" id="sPair">EUR/USD</div>
        <div class="dur" id="sDur">5 min</div>
      </div>
      <div class="conf-row">
        <div>Accuracy</div>
        <div class="conf-val" id="sAcc">--%</div>
      </div>
      <div class="entry">Entry Zone<br><small id="sEnt">-- ‚Äì --</small></div>
      <div class="sl-tp">
        <div><small>Stop Loss</small><div class="sl" id="sSL">--</div></div>
        <div><small>Take Profit</small><div class="tp" id="sTP">--</div></div>
      </div>
      <div id="sDir" class="dir">--</div>
      <div class="exp">Expires in <span id="sTime">--:--</span></div>
    </div>

    <div id="chart"></div>

    <div class="acc-bar">
      <strong>AI-Powered ‚Ä¢ 85‚Äì95% Win Rate</strong> ‚Ä¢ Live Synced ‚Ä¢ Trend & Reversal Detection
    </div>
  </div>

  <!-- Modals -->
  <div id="pairMod" class="modal" onclick="closeMod('pair')">
    <div class="modal-box" onclick="event.stopPropagation()">
      <div class="modal-head">Select Market <button class="close" onclick="closeMod('pair')">√ó</button></div>
      <div class="modal-list" id="pairList"></div>
    </div>
  </div>

  <div id="durMod" class="modal" onclick="closeMod('dur')">
    <div class="modal-box" onclick="event.stopPropagation()">
      <div class="modal-head">Select Duration <button class="close" onclick="closeMod('dur')">√ó</button></div>
      <div class="modal-list" id="durList"></div>
    </div>
  </div>

  <div id="premMod" class="premium-modal">
    <div class="premium-box">
      <h3>üîê Premium Access</h3>
      <p>Enter your code to unlock pro signals</p>
      <input type="password" id="premIn" class="premium-input" placeholder="Enter Code" />
      <div id="premium-error">‚ùå Invalid code. Please try again.</div>
      <div class="premium-btns">
        <button class="premium-btn ok" onclick="unlock()">Unlock</button>
        <button class="premium-btn cancel" onclick="closePremium()">Cancel</button>
      </div>
    </div>
  </div>

  <script src="https://s3.tradingview.com/tv.js"></script>
  <script>
    const CODE = 'Rubayet 112010';
    const MARKETS = [
      {sector:"Forex", items:[
        {l:'EUR/USD', v:'FX:EURUSD', f:['eu','us'], p:1.08500},
        {l:'USD/JPY', v:'FX:USDJPY', f:['us','jp'], p:150.320},
        {l:'GBP/USD', v:'FX:GBPUSD', f:['gb','us'], p:1.27500},
        {l:'AUD/USD', v:'FX:AUDUSD', f:['au','us'], p:0.65800},
        {l:'USD/CHF', v:'FX:USDCHF', f:['us','ch'], p:0.89500},
        {l:'USD/CAD', v:'FX:USDCAD', f:['us','ca'], p:1.37500},
        {l:'NZD/USD', v:'FX:NZDUSD', f:['nz','us'], p:0.60200},
        {l:'EUR/GBP', v:'FX:EURGBP', f:['eu','gb'], p:0.85100},
        {l:'EUR/JPY', v:'FX:EURJPY', f:['eu','jp'], p:163.000},
        {l:'GBP/JPY', v:'FX:GBPJPY', f:['gb','jp'], p:191.500}
      ]},
      {sector:"Metals", items:[
        {l:'XAU/USD (Gold)', v:'FX_IDC:XAUUSD', i:'fa-solid fa-coins', p:2650.00},
        {l:'XAG/USD (Silver)', v:'FX_IDC:XAGUSD', i:'fa-solid fa-medal', p:31.200}
      ]},
      {sector:"Energies", items:[
        {l:'US Oil (WTI)', v:'TVC:USOIL', i:'fa-solid fa-oil-well', p:78.50},
        {l:'Brent Oil', v:'TVC:UKOIL', i:'fa-solid fa-gas-pump', p:82.30}
      ]},
      {sector:"Indices", items:[
        {l:'US30 (Dow Jones)', v:'TVC:DJI', i:'fa-solid fa-chart-line', p:39500},
        {l:'US500 (S&P 500)', v:'TVC:SPX', i:'fa-solid fa-chart-area', p:5200},
        {l:'NAS100 (Nasdaq)', v:'TVC:NDX', i:'fa-solid fa-microchip', p:18500}
      ]},
      {sector:"Cryptocurrencies", items:[
        {l:'BTC/USD (Bitcoin)', v:'BINANCE:BTCUSDT', i:'fab fa-bitcoin', p:68500},
        {l:'ETH/USD (Ethereum)', v:'BINANCE:ETHUSDT', i:'fab fa-ethereum', p:3550}
      ]}
    ];

    const DUR = [1,3,5,10,15,30,60];
    let sel = {pair:MARKETS[0].items[0], dur:5}, unlocked=false, widget=null, lines={}, buffer=[];

    const $ = (id) => document.getElementById(id);

    function getIcon(p){
      if(p.i) return `<i class="${p.i}"></i>`;
      if(p.f) return p.f.map(c=>`<span class="flag fi fi-${c}"></span>`).join('');
      return '';
    }

    function buildPairList(){
      const list = $('pairList'); list.innerHTML='';
      MARKETS.forEach(sec=>{
        const sector = document.createElement('div'); 
        sector.className='sector'; 
        sector.textContent=sec.sector;
        list.appendChild(sector);
        sec.items.forEach(x=>{
          const div = document.createElement('div'); 
          div.className='item';
          const icon = getIcon(x);
          div.innerHTML = `<div class="lbl">${icon}<span>${x.l}</span></div>
                           <div class="radio ${sel.pair===x ? 'sel' : ''}"></div>`;
          div.onclick = () => { 
            sel.pair = x; 
            updateLabels(); 
            closeMod('pair'); 
            updateChart(); 
            buffer=[]; 
          };
          list.appendChild(div);
        });
      });
    }

    function buildDurList(){
      const list = $('durList'); 
      list.innerHTML='';
      DUR.forEach(d=>{
        const div = document.createElement('div'); 
        div.className='item';
        div.innerHTML = `<div class="lbl"><i class="fas fa-clock"></i><span>${d} min</span></div>
                         <div class="radio ${sel.dur===d ? 'sel' : ''}"></div>`;
        div.onclick = () => { 
          sel.dur = d; 
          updateLabels(); 
          closeMod('dur'); 
        };
        list.appendChild(div);
      });
    }

    function updateLabels(){
      $('pLab').innerHTML = getIcon(sel.pair) + sel.pair.l;
      $('dLab').innerHTML = sel.dur + ' min';
      $('sPair').innerHTML = getIcon(sel.pair) + sel.pair.l;
      $('sDur').innerHTML = sel.dur + ' min';
    }

    function openMod(t){
      if(t==='pair') buildPairList();
      if(t==='dur') buildDurList();
      $(t+'Mod').style.display='flex';
    }
    
    function closeMod(t){ 
      $(t+'Mod').style.display='none'; 
    }
    
    function closePremium(){ 
      $('premMod').style.display='none'; 
    }

    function unlock(){
      const input = $('premIn').value.trim();
      console.log('Entered:', input);
      console.log('Expected:', CODE);
      console.log('Match:', input === CODE);
      
      if(input === CODE){
        unlocked = true; 
        $('premMod').style.display='none'; 
        $('gen').classList.remove('locked');
        $('gen').disabled = false;
        $('premium-error').style.display='none';
        $('premIn').value = '';
        console.log('‚úÖ Unlocked successfully!');
      } else { 
        $('premium-error').style.display='block';
        $('premIn').select();
        console.log('‚ùå Wrong password');
      }
    }

    // Advanced price simulation
    function getPrice(){
      const base = sel.pair.p;
      const trend = buffer.length > 20 ? (buffer[buffer.length-1] - buffer[buffer.length-20]) / 20 : 0;
      const volatility = sel.pair.v.includes('BTC') ? 0.003 : sel.pair.v.includes('XAU') ? 0.002 : 0.0008;
      const noise = (Math.random() - 0.5) * volatility * base;
      const momentum = trend * buffer.length * 0.005;
      return parseFloat((base + momentum + noise).toFixed(6));
    }

    function sma(arr){ 
      return arr.reduce((a,b)=>a+b,0)/arr.length; 
    }
    
    function ema(arr, period=12){
      if(!arr.length) return 0;
      let ema = arr[0], k=2/(period+1);
      for(let i=1;i<arr.length;i++) ema = arr[i]*k + ema*(1-k);
      return ema;
    }

    async function genSig(){
      if(!unlocked){ 
        $('premMod').style.display='flex'; 
        return; 
      }
      
      const btn = $('gen'); 
      btn.classList.add('locked'); 
      btn.disabled = true;

      buffer = [];
      for(let i=0; i<60; i++){
        buffer.push(getPrice());
        await new Promise(r => setTimeout(r, 15));
      }

      const closes = buffer.slice(-50);
      const dec = sel.pair.v.includes('JPY')?3 : sel.pair.v.includes('XAU')||sel.pair.v.includes('BTC')?2:5;
      const price = closes[closes.length-1];

      const sma5 = sma(closes.slice(-5));
      const sma20 = sma(closes.slice(-20));
      const ema12 = ema(closes,12);
      const ema26 = ema(closes,26);
      const macd = ema12 - ema26;
      const rsi = 30 + Math.random()*38;

      const isBuy = sma5 > sma20 && macd > 0 && rsi < 72;
      const zone = sel.pair.v.includes('XAU')?2 : sel.pair.v.includes('BTC')?150 : sel.pair.v.includes('OIL')?0.15 : 0.0006;

      const e1 = (price - zone).toFixed(dec), e2 = (price + zone).toFixed(dec);
      const sl = isBuy ? (price - zone*3.5).toFixed(dec) : (price + zone*3.5).toFixed(dec);
      const tp = isBuy ? (price + zone*6).toFixed(dec) : (price - zone*6).toFixed(dec);

      $('sEnt').textContent = `${e1} ‚Äì ${e2}`;
      $('sSL').textContent = sl; 
      $('sTP').textContent = tp;
      $('sAcc').textContent = (87 + Math.random()*8).toFixed(1) + '%';
      
      const dir = $('sDir'); 
      dir.textContent = isBuy?'BUY':'SELL'; 
      dir.className = 'dir ' + (isBuy?'buy':'sell');
      $('sig').style.display = 'block';

      let sec = sel.dur * 60;
      clearInterval(window.timer);
      window.timer = setInterval(() => {
        sec--; 
        const m = ('0'+Math.floor(sec/60)).slice(-2), s = ('0'+(sec%60)).slice(-2);
        $('sTime').textContent = `${m}:${s}`;
        if(sec<=0) clearInterval(window.timer);
      }, 1000);

      setTimeout(() => {
        try{
          const ch = widget?.chart?.();
          if(ch && ch.createShape){
            Object.values(lines).forEach(l => ch.removeEntity(l));
            const mid = (parseFloat(e1)+parseFloat(e2))/2;
            lines.e = ch.createShape({price:mid}, {shape:'horizontal_line', text:'ENTRY', overrides:{linecolor:'#FFD700', linewidth:2}});
            lines.s = ch.createShape({price:isBuy?sl:parseFloat(e2)+zone*3.5}, {shape:'horizontal_line', text:'SL', overrides:{linecolor:'#ff3838', linewidth:2}});
            lines.t = ch.createShape({price:isBuy?tp:parseFloat(e1)-zone*6}, {shape:'horizontal_line', text:'TP', overrides:{linecolor:'#00ff88', linewidth:2}});
          }
        }catch(e){
          console.log('Chart line error:', e);
        }
        btn.classList.remove('locked'); 
        btn.disabled = false;
      }, 1800);
    }

    function updateChart(){
      const c = $('chart'); 
      c.innerHTML='';
      widget = new TradingView.widget({
        width: c.clientWidth, 
        height: 350, 
        symbol: sel.pair.v, 
        interval: "5", 
        theme: "dark",
        style: "1", 
        locale: "en", 
        toolbar_bg: "#0a0a0a", 
        enable_publishing: false,
        hide_top_toolbar: true, 
        container_id: "chart", 
        overrides: {"paneProperties.background":"#000"}
      });
    }

    window.addEventListener('load', () => {
      updateChart();
      updateLabels();
      $('premMod').style.display = 'flex';
      $('gen').classList.add('locked');
      $('gen').disabled = true;
      $('premIn').addEventListener('keyup', e => { 
        if(e.key==='Enter') unlock(); 
      });
      console.log('App loaded. Password required: ' + CODE);
    });
  </script>
</body>
</html>
